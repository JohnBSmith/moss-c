
use syntax: scan, ast
use basic

sub q(s)
  table[symbolic] t=ast(scan(s)) end
end

symbolic = table
  sub str
    syntax.ast_to_string(self.t)
  end
end

sub diff(x,id)
  table[symbolic] t=basic.diff(x.t,id) end
end

sub substitute(x,id,y)
  table[symbolic] t=basic.substitute(x.t,id,y.t) end
end

sub compile_fn(id,x)
  s = "|"+id+"|"+syntax.ast_to_string(x.t)
  return eval(s)
end

